<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Cupertino: 27 Issues Down, Just Getting Started - Aleahim</title>
    <meta name="description" content="From MCP server to a complete Apple documentation ecosystem with pre-crawled docs and 606 sample projects">

    <meta property="og:url" content="https://aleahim.com/blog/cupertino-ecosystem/">
    <meta property="og:title" content="Cupertino: 27 Issues Down, Just Getting Started - Aleahim">
    <meta property="og:description" content="From MCP server to a complete Apple documentation ecosystem with pre-crawled docs and 606 sample projects">
    

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Cupertino: 27 Issues Down, Just Getting Started - Aleahim">
    <meta name="twitter:description" content="From MCP server to a complete Apple documentation ecosystem with pre-crawled docs and 606 sample projects">
    

    <link rel="stylesheet" href="https://aleahim.com/css/theme.css">
    <link rel="stylesheet" href="https://aleahim.com/css/style.css">
    <link rel="stylesheet" href="https://aleahim.com/css/blog.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    

    <!-- Umami Analytics -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="1ee8d39f-4184-4d60-89a3-13131860112a"></script>
</head>

<body>
    <header>
        <div class="header-content">
            <a id="logo" href="https://aleahim.com">
                <img
                    src="https://aleahim.com/images/logo.svg"
                    alt="Aleahim"
                    title="Aleahim"
                >
                <h1 class="site-title">Aleahim.com</h1>
            </a>
    
            <nav>
                <div class="navigation">
                    <a href="https://aleahim.com/">Home</a>
                <a href="https://aleahim.com/cv/">CV</a>
                <a href="https://aleahim.com/services/">Services</a>
                <a href="https://aleahim.com/about/">About</a>
                </div>
            </nav>
        </div>
    </header>

    <main>
    <article class="blog-post">
        <header class="post-header">
            <div class="title-with-thumbnail">
                <div class="post-thumbnail">
                    <img src="https://aleahim.com/images/blog/cupertino-ecosystem/cupertino-ecosystem-hero.png" alt="Cupertino: 27 Issues Down, Just Getting Started">
                </div>
                <div class="title-wrapper">
                    <h1>Cupertino: 27 Issues Down, Just Getting Started</h1>
                    <div class="post-meta">
                        <time datetime="2025-12-03T00:00:00.000Z">December 3, 2025</time>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="post-content">
            <div class="post-hero-image">
                <img src="https://aleahim.com/images/blog/cupertino-ecosystem/cupertino-ecosystem-hero.png" alt="Cupertino: 27 Issues Down, Just Getting Started">
            </div>
    
            <p>I’m currently working on two macOS apps, and I rely heavily on Claude Code to help me ship faster. But here’s the thing—I kept hitting the same wall: hallucinated APIs, outdated patterns, confident suggestions for methods that don’t exist.</p><p>I’m not alone. Developers everywhere report the same issues: AI suggesting <code>@ObservableObject</code> and <code>@Published</code> when Apple now recommends <code>@Observable</code>. Xcode 26’s AI integration <a href="https://www.fline.dev/why-im-not-using-xcode-26s-ai-chat-integration-and-what-could-change-my-mind/" target="_blank">hallucinating 100% of the time</a> when asked about new 2025 frameworks. One developer described fixing AI-generated Swift code as <a href="https://medium.com/@agnislav/one-more-chatgpt-vs-claude-comparison-for-macos-development-8cae53ec7c3e" target="_blank">“whack-a-mole”</a>—fix one obsolete API, another pops up.</p><p>That frustration is why I built Cupertino.</p><p>In my <a href="https://aleahim.com/blog/cupertino/">previous post</a>, I introduced it—an MCP server that gives Claude offline access to 22,000+ Apple documentation pages. That was version 0.1.x. Since then, things have evolved rapidly: nine releases in 72 hours, two new companion repositories, and a complete ecosystem for AI-assisted Apple development.</p><p>I need this tool. I use it every day. And I’m building it in public because I know I’m not the only one frustrated with AI that hallucinates Apple APIs.</p><h2 id="what-changed-v0.1.6-v0.2.3">What Changed: v0.1.6 → v0.2.3</h2><p>The original Cupertino solved the core problem—searching Apple docs locally. But real-world usage revealed gaps: ranking wasn’t smart enough, storage was bloated, and legacy documentation was missing. Here’s what shipped:</p><h3 id="intelligent-ranking-v0.2.1">Intelligent Ranking (v0.2.1)</h3><p>The initial BM25 search treated all documents equally. A query for “View” might return some random extension before <code>SwiftUI.View</code> itself. Eight ranking heuristics now prioritize:</p><ul><li><strong>Core types over extensions</strong> - <code>View</code> ranks above <code>View+Accessibility</code></li><li><strong>URL depth analysis</strong> - <code>/documentation/swiftui/view</code> beats <code>/documentation/swiftui/view/some/nested/thing</code></li><li><strong>Title pattern detection</strong> - Exact matches surface first</li><li><strong>Modern over deprecated</strong> - Current APIs rank higher</li></ul><p>The result: sub-100ms queries that actually return what you’re looking for.</p><h3 id="storage-cleanup-v0.1.8-v0.2.0">Storage Cleanup (v0.1.8, v0.2.0)</h3><p>The initial crawl produced ~27GB of data. Most of it was cruft: <code>.git</code> folders from sample code downloads, <code>.DS_Store</code> files, Xcode user data. A new <code>cleanup</code> command reduced storage to 2-3GB—a 90% reduction.</p><p>Version 0.2.0 fixed a critical bug where cleanup was accidentally deleting source code instead of just metadata. Now 99.8% of sample ZIPs retain intact source.</p><h3 id="language-filtering-v0.1.9">Language Filtering (v0.1.9)</h3><p>Not everyone wants Objective-C results. The CLI and MCP tools now accept a <code>language</code> parameter:</p><pre><code class="language-bash">cupertino search "NSObject" --language swift
</code></pre><p>Claude can filter too—just ask for “Swift-only results.”</p><h3 id="apple-archive-support-v0.2.3">Apple Archive Support (v0.2.3)</h3><p>Apple’s modern documentation is great, but some topics only exist in the legacy archive: Core Animation Programming Guide, Quartz 2D Programming Guide, Core Text Programming Guide. These are still the authoritative sources for low-level graphics work.</p><p>Cupertino now crawls <code>developer.apple.com/library/archive/</code> and integrates results with smart ranking that prioritizes modern docs while keeping legacy content searchable.</p><h2 id="the-ecosystem-three-repositories">The Ecosystem: Three Repositories</h2><p>Cupertino grew from one repo to three:</p><h3 id="cupertino-the-mcp-server"><a href="https://github.com/mihaelamj/cupertino" target="_blank">cupertino</a> — The MCP Server</h3><p>The main Swift package. Crawls, indexes, and serves documentation via MCP protocol. Install it, point Claude at it, done.</p><pre><code class="language-bash"># Quick setup with Claude Code
claude mcp add cupertino --scope user -- /usr/local/bin/cupertino
</code></pre><h3 id="cupertino-docs-pre-crawled-documentation"><a href="https://github.com/mihaelamj/cupertino-docs" target="_blank">cupertino-docs</a> — Pre-Crawled Documentation</h3><p>Don’t want to crawl everything yourself? Clone this repo:</p><pre><code class="language-bash">git clone https://github.com/mihaelamj/cupertino-docs ~/.cupertino
</code></pre><p>Currently includes:</p><table><thead><td>Source</td><td>Content</td><td>Status</td></thead><tbody><tr><td><code>swift-evolution/</code></td><td>All Swift proposals (~400)</td><td>Ready</td></tr><tr><td><code>swift-org/</code></td><td>Swift.org language docs</td><td>Ready</td></tr><tr><td><code>packages/</code></td><td>Swift Package Index metadata</td><td>Ready</td></tr><tr><td><code>docs/</code></td><td>Apple Developer Documentation (13K+ pages)</td><td>WIP - requires manual crawl</td></tr><tr><td><code>archive/</code></td><td>Legacy Apple guides</td><td>WIP - requires manual crawl</td></tr></tbody></table><p>Swift Evolution, Swift.org, and package docs are pre-indexed and ready. Apple Developer Documentation and Archive still require running <code>cupertino fetch</code> yourself due to size—but having the infrastructure in place is a start. The tooling exists; full pre-crawled distribution is coming.</p><h3 id="cupertino-sample-code-606-apple-samples"><a href="https://github.com/mihaelamj/cupertino-sample-code" target="_blank">cupertino-sample-code</a> — 606 Apple Samples</h3><p>This is the fun one. Every official Apple sample code project, cleaned and ready to build:</p><ul><li><strong>100+ frameworks covered</strong>: SwiftUI, ARKit, RealityKit, Metal, CoreML, Vision, AVFoundation, HealthKit, HomeKit, and more</li><li><strong>606 projects</strong>: From “Hello World” to complex GPU shaders</li><li><strong>Build-ready</strong>: No <code>.git</code> folders, no xcuserdata, no cruft</li><li><strong>MIT Licensed</strong>: Use them however you want</li></ul><p>When you ask Claude “show me how Apple implements ARKit face tracking,” it can now search actual Apple sample code—not hallucinate an approximation.</p><p>Example projects include:</p><ul><li><code>arkit-*</code> — Augmented reality implementations</li><li><code>swiftui-*</code> — Modern UI patterns</li><li><code>metal-*</code> — GPU programming examples</li><li><code>coreml-*</code> — Machine learning integrations</li><li><code>avfoundation-*</code> — Video and audio capture</li></ul><h2 id="the-72-hour-sprint">The 72-Hour Sprint</h2><p>Nine releases shipped in three days. Here’s the changelog:</p><table><thead><td>Version</td><td>Key Changes</td></thead><tbody><tr><td>v0.1.6</td><td>JSON-first crawling, WKWebView memory fixes</td></tr><tr><td>v0.1.7</td><td>Swift Book content retrieval fixes</td></tr><tr><td>v0.1.8</td><td>Cleanup command (27GB → 2-3GB)</td></tr><tr><td>v0.1.9</td><td>Language filtering (Swift/ObjC)</td></tr><tr><td>v0.2.0</td><td>Critical fix: source code retention</td></tr><tr><td>v0.2.1</td><td>Eight ranking heuristics</td></tr><tr><td>v0.2.2</td><td>URL depth analysis, resume fixes</td></tr><tr><td>v0.2.3</td><td>Apple Archive legacy docs</td></tr></tbody></table><p>Each release addressed real issues discovered while using Cupertino with Claude Code. Fast iteration, real-world testing.</p><h2 id="using-the-full-ecosystem">Using the Full Ecosystem</h2><p>Here’s the quickest path to AI-assisted Apple development with accurate documentation:</p><pre><code class="language-bash"># 1. Get pre-crawled docs (skip the 20-hour crawl)
git clone https://github.com/mihaelamj/cupertino-docs ~/.cupertino

# 2. Build the MCP server
git clone https://github.com/mihaelamj/cupertino
cd cupertino
swift build -c release
sudo cp .build/release/cupertino /usr/local/bin/

# 3. Configure Claude Code
claude mcp add cupertino --scope user -- /usr/local/bin/cupertino

# 4. (Optional) Get sample code for reference
git clone https://github.com/mihaelamj/cupertino-sample-code ~/Apple-Samples
</code></pre><p>Now when you ask Claude about Apple APIs, it searches 22,000+ pages of real documentation. No hallucinations. No deprecated patterns. Just accurate, current information.</p><h2 id="what-s-next">What’s Next</h2><p>The ranking heuristics work well but aren’t perfect. Planned improvements:</p><ul><li><strong><code>make install</code></strong> — One command to install everything: the MCP server, pre-crawled docs from cupertino-docs, and sample code from cupertino-sample-code</li><li><strong>Semantic search</strong> — Embeddings-based similarity for conceptual queries</li><li><strong>Version awareness</strong> — Filter by iOS/macOS version</li><li><strong>Cross-reference linking</strong> — “See also” connections between related docs</li><li><strong>Sample code search</strong> — Full-text search across all 606 projects</li></ul><h2 id="join-me">Join Me</h2><p>If you’re an Apple developer tired of AI hallucinations, give Cupertino a try. If you find bugs or have ideas, open an issue—27 closed so far, plenty more to go.</p><p>This isn’t a polished product yet. It’s a tool I’m building because I need it, and I’m sharing it because you might need it too.</p><h2 id="repositories">Repositories</h2><ul><li><a href="https://github.com/mihaelamj/cupertino" target="_blank">cupertino</a> — MCP Server (Swift)</li><li><a href="https://github.com/mihaelamj/cupertino-docs" target="_blank">cupertino-docs</a> — Pre-crawled documentation</li><li><a href="https://github.com/mihaelamj/cupertino-sample-code" target="_blank">cupertino-sample-code</a> — 606 Apple samples (MIT)</li></ul><p>No more AI hallucinations about Apple APIs. Just real documentation that compiles.</p>
        </div>
    
        <footer class="post-footer">
            <a href="https://aleahim.com/blog/" class="back-link">← Back to Blog</a>
        </footer>
    </article>

    </main>

    <footer>
        <p>This site was generated using <a href="https://www.swift.org/" target="_blank">Swift</a> & <a href="https://github.com/toucansites/toucan" target="_blank">Toucan</a>.</p>
    
        <p class="small">Aleahim &copy; 2026.</p>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    
</body>
</html>

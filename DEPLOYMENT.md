# Deployment Guide for aleahim.com

## Overview

This site uses Toucan static site generator and is deployed to GitHub Pages at https://aleahim.com

## Deployment Setup

- **Source**: Deploy from a branch
- **Branch**: `main`
- **Folder**: `/` (root)
- **Custom Domain**: aleahim.com
- **HTTPS**: Enforced

## Adding New Content

### 1. Add/Edit Content

Add your content in the `contents/` directory:
- Blog posts: `contents/blog/[post-name]/index.md`
- Pages: `contents/[page-name]/index.md`

See `CONTENT-GUIDE.md` for detailed content instructions.

### 2. Build the Site

Build the site for production with the `live` target:

```bash
toucan generate --target live
```

This generates the site in `dist/` with the correct URLs for https://aleahim.com

### 3. Copy Built Files to Root

Copy the built site files to the repository root (required for GitHub Pages):

```bash
cp -r dist/* .
```

### 4. Commit and Push

Add the changes and push to GitHub:

```bash
# Stage all changes
git add .

# Commit with a descriptive message
git commit -m "Add new blog post: [post title]"

# Push to main branch
git push origin main
```

GitHub Pages will automatically deploy the changes within 30-60 seconds.

### 5. Verify Deployment

Visit https://aleahim.com to see your changes live.

You can also check deployment status at:
https://github.com/mihaelamj/aleahim.com/actions

## Quick Deployment Commands

```bash
# Build site
toucan generate --target live

# Copy to root
cp -r dist/* .

# Deploy
git add .
git commit -m "Update site content"
git push origin main
```

## Local Development

For local development and testing:

```bash
# Build and watch for changes
make watch

# Or manually build for dev
toucan generate

# Serve locally at http://localhost:3000
toucan serve
```

**Note**: The dev build uses `http://localhost:3000` URLs. Always use `toucan generate --target live` before deploying to production.

## Configuration Files

- **toucan.yml**: Site build configuration
  - `dev` target: For local development (default)
  - `live` target: For production deployment to https://aleahim.com

- **site.yml**: Site metadata and settings
- **config.yml**: Content configuration

## Troubleshooting

### Site shows old content after deployment
- Hard refresh: `Cmd + Shift + R` (Mac) or `Ctrl + Shift + R` (Windows)
- Or open in incognito/private window

### Site shows README instead of homepage
- Ensure you ran `cp -r dist/* .` to copy built files to root
- Verify `index.html` exists in the repository root
- Check that GitHub Pages is set to deploy from `main` branch, `/` (root) folder

### CSS not loading
- Verify you built with `--target live` (not the dev target)
- Check that `toucan.yml` has the correct URL: `https://aleahim.com/`
- Ensure CSS files are in the repository root under `css/` directory

## GitHub Pages Settings

Access at: https://github.com/mihaelamj/aleahim.com/settings/pages

Current configuration:
- **Source**: Deploy from a branch
- **Branch**: main
- **Path**: / (root)
- **Custom domain**: aleahim.com
- **Enforce HTTPS**: âœ“ Enabled

## DNS Configuration

The custom domain `aleahim.com` is configured with:
- CNAME file in repository root containing `aleahim.com`
- DNS records pointing to GitHub Pages servers

**Do not modify the CNAME file** - it's automatically generated by Toucan.
